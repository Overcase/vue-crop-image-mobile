!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cropImageMobile",[],t):"object"==typeof exports?exports.cropImageMobile=t():e.cropImageMobile=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=8)}([function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=a(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function a(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var a=n(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(a[i]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function a(e){for(var t=0;t<e.length;t++){var n=e[t],a=u[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(i(n.parts[r]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{for(var o=[],r=0;r<n.parts.length;r++)o.push(i(n.parts[r]));u[n.id]={id:n.id,refs:1,parts:o}}}}function r(){var e=document.createElement("style");return e.type="text/css",f.appendChild(e),e}function i(e){var t,n,a=document.querySelector("style["+v+'~="'+e.id+'"]');if(a){if(g)return h;a.parentNode.removeChild(a)}if(y){var i=p++;a=d||(d=r()),t=o.bind(null,a,i,!1),n=o.bind(null,a,i,!0)}else a=r(),t=s.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}function o(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var i=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function s(e,t){var n=t.css,a=t.media,r=t.sourceMap;if(a&&e.setAttribute("media",a),m.ssrId&&e.setAttribute(v,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(12),u={},f=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,p=0,g=!1,h=function(){},m=null,v="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,r){g=n,m=r||{};var i=c(e,t);return a(i),function(t){for(var n=[],r=0;r<i.length;r++){var o=i[r],s=u[o.id];s.refs--,n.push(s)}t?(i=c(e,t),a(i)):i=[];for(var r=0;r<n.length;r++){var s=n[r];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete u[s.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,n,a,r,i){var o,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(o=e,s=e.default);var c="function"==typeof s?s.options:s;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r);var u;if(i?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=u):a&&(u=a),u){var f=c.functional,d=f?c.render:c.beforeCreate;f?(c._injectStyles=u,c.render=function(e,t){return u.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:s,options:c}}},function(e,t,n){"use strict";var a=n(4),r=n(15),i=n(19),o=n(23);t.a={name:"crop-image-mobile",props:{layerOpacity:{type:Number,default:1},layerColor:{type:String,default:"#000"},layerZIndex:{type:Number,default:999},imageFile:{required:!0},quality:{type:[Number,String],default:.7},autoCompress:{type:Boolean,default:!0}},components:{cropLayer:i.a,cropView:r.a,cropImage:o.a},data:function(){return{viewportHeight:"auto",viewportWidth:"auto",imageInstance:null,imageNode:null,imageCorpUrl:"",offsetX:0,offsetY:0,scale:1}},mounted:function(){this.corpView=this.$refs.corpView.$el,a.a.cropImageInit(this)},watch:{imageFile:function(e){a.a.cropImageInit(this)}},methods:{getImageData:function(e){this.imageInstance=e},cropImage:function(e){a.a.cropImage(this,e)}}}},function(e,t,n){"use strict";var a=n(13),r=n(14),i=n.n(r),o=function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},s=void 0,l=void 0,c=void 0,u=void 0,f=void 0,d=void 0,p=void 0,g=void 0,h=void 0,m=void 0,v=void 0,y={viewportHeight:o().height,viewportWidth:o().width,cropImageInit:function(e){y.getImageBase64(e)},cropImage:function(e,t){var n=0,a=0,r=0,i=0,o=document.createElement("canvas"),s=o.getContext("2d"),l=y.getPixelRatio(s);n=m*(1/e.scale),a=m*(1/e.scale),r=e.offsetX-(c-n)/2,i=e.offsetY-(u-a)/2,o.width=n*l,o.height=a*l,s.scale(l,l),s.drawImage(e.imageInstance.canvasImage,r,i,c,u),t.call(null,URL.createObjectURL(y.compressImage(o,e)))},getPixelRatio:function(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},getImageBase64:function(e){var t=new FileReader,n=e.imageFile;n&&t.readAsDataURL(n),t.onload=function(t){y.copyImageToCanvas(e,t.target.result)}},getOrientationToFixRotate:function(e){i.a.getData(e.imageFile,function(){h=i.a.getTag(this,"Orientation"),i.a.getAllTags(this),y.rotateFit(e)})},rotateFit:function(e){switch(h){case 6:s.width=u,s.height=c,l.translate(s.width/2,s.height/2),l.rotate(90*Math.PI/180),l.translate(-s.height/2,-s.width/2),l.drawImage(d,0,0),c^=u,u^=c,c^=u;break;case 8:s.width=u,s.height=c,l.translate(s.width/2,s.height/2),l.rotate(270*Math.PI/180),l.translate(-s.height/2,-s.width/2),l.drawImage(d,0,0),c^=u,u^=c,c^=u;break;case 3:s.width=c,s.height=u,l.translate(c/2,u/2),l.rotate(Math.PI),l.drawImage(d,-c/2,-u/2,c,u);break;default:s.width=c,s.height=u,l.drawImage(d,0,0,c,u)}y.renderImage(e)},dataURItoBlob:function(e){var t=void 0;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return new Blob([a],{type:n})},compressImage:function(e,t){var n=e.toDataURL("image/jpeg",1),a=y.dataURItoBlob(n);return n=t.autoCompress?a.size>2048e3?e.toDataURL("image/jpeg",.3):a.size>1024e3?e.toDataURL("image/jpeg",.5):e.toDataURL("image/jpeg",.8):e.toDataURL("image/jpeg",t.quality),a=y.dataURItoBlob(n)},renderImage:function(e){c>u?(c*=m/u,u=m,p=d.width/c,f=(v-u)/2,g=-f):(u*=m/c,c=m,p=d.height/u,f=(v-c)/2+(u-v)/2,g=-f),c=Math.floor(c),u=Math.floor(u),e.imageInstance.imageWidth=c+"px",e.imageInstance.imageHeight=u+"px",e.imageInstance.transform="translate(0,0)",e.imageInstance.canvasImage.src=URL.createObjectURL(y.compressImage(s,e)),Object(a.a)({dom:e.corpView,instance:e,viewportHeight:y.viewportHeight,viewportWidth:y.viewportWidth,width:c,height:u,edgetop:f,edgebottom:g})},copyImageToCanvas:function(e,t){d=new Image,d.onload=function(){s=document.createElement("canvas"),l=s.getContext("2d"),s.width=c,s.height=u,m=o().width-40,v=o().height,c=d.width,u=d.height,y.getOrientationToFixRotate(e)},d.src=t}};t.a=y},function(e,t,n){"use strict";var a=n(4);t.a={name:"crop-view",props:{zIndex:{type:Number}},data:function(){return{}},computed:{containerStyle:function(){var e=a.a.viewportWidth-40;return{width:e+"px",height:e+"px"}}}}},function(e,t,n){"use strict";t.a={name:"crop-layer",props:{opacity:{type:Number,default:1},color:{type:String,default:"#000"},zIndex:{type:Number}},computed:{layerStyle:function(){return{opacity:this.opacity,backgroundColor:this.color,zIndex:this.zIndex}}}}},function(e,t,n){"use strict";t.a={name:"crop-image",props:{zIndex:{type:Number},width:{type:String,default:"100%"},height:{type:String,default:"auto"}},data:function(){return{canvasImage:"",imageWidth:"100%",imageHeight:"auto",transform:"translate(0,0)"}},created:function(){this.imageWidth=this.width,this.imageHeight=this.height},mounted:function(){this.canvasImage=this.$refs.canvasImage,this.$emit("canvasImage",this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r={install:function(e,t){e.component(a.a.name,a.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),t.default=r},function(e,t,n){"use strict";function a(e){n(10)}var r=n(3),i=n(27),o=n(2),s=a,l=o(r.a,i.a,!1,s,null,null);t.a=l.exports},function(e,t,n){var a=n(11);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(1)("3d2e80a1",a,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".crop-container{display:flex;position:absolute;justify-content:center;align-items:center;overflow:hidden;top:0;left:0;right:0;bottom:0}",""])},function(e,t){e.exports=function(e,t){for(var n=[],a={},r=0;r<t.length;r++){var i=t[r],o=i[0],s=i[1],l=i[2],c=i[3],u={id:e+":"+r,css:s,media:l,sourceMap:c};a[o]?a[o].parts.push(u):n.push(a[o]={id:o,parts:[u]})}return n}},function(e,t,n){"use strict";var a={pageX:0,pageY:0,offsetX:0,offsetY:0,translateX:0,translateY:0,translateX2:0,translateY2:0,scale:1,initialScale:1,initialScaleLength:void 0,finger:1},r=void 0,i=document.body,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0,f=void 0,d=function(e){r=e.instance,i=e.dom,o=e.viewportHeight,s=e.viewportWidth,l=e.width,c=e.height,u=e.edgetop,f=e.edgebottom,i.addEventListener("touchstart",I,!1),i.addEventListener("touchmove",C,!1),i.addEventListener("touchend",P,!1)},p=function(e){e.stopPropagation(),e.preventDefault()},g=function(e){for(var t in a)a.hasOwnProperty(t)&&void 0!==e[t]&&e[t]!==a[t]&&(a[t]=e[t])},h=function(e){var t=e.length;a.finger=t},m=function(e,t){return Math.floor(parseFloat(e)*Math.pow(10,t))/Math.pow(10,t)},v=function(){var e=void 0,t=void 0;a.scale<1&&(x(),w()),1===a.scale&&(l>c?(e=(l-c)/2,g({translateY:a.translateY+a.offsetY}),0!==a.translateY&&(g({translateY:0,offsetY:0}),w()),g({translateX:a.translateX+a.offsetX}),a.translateX>e&&(g({translateX:e,offsetX:0}),w()),a.translateX<-e&&(g({translateX:-e,offsetX:0}),w())):(g({translateX:a.translateX+a.offsetX}),0!==a.translateX&&(g({translateX:0,offsetX:0}),w()),g({translateY:a.translateY+a.offsetY}),a.translateY>u&&(g({translateY:u,offsetY:0}),w()),a.translateY<f&&(g({translateY:f,offsetY:0}),w()))),a.scale>1&&(l>c?(e=l*(a.scale-1)/2+(l-c)/2,t=c*(a.scale-1)/2,g({translateY:a.translateY+a.offsetY}),a.translateY>t&&(g({translateY:t,offsetY:0}),w()),a.translateY<-t&&(g({translateY:-t,offsetY:0}),w()),g({translateX:a.translateX+a.offsetX}),a.translateX>e&&(g({translateX:e,offsetX:0}),w()),a.translateX<-e&&(g({translateX:-e,offsetX:0}),w())):(e=l*(a.scale-1)/2,t=c*(a.scale-1)/2,g({translateX:a.translateX+a.offsetX}),a.translateX>e&&(g({translateX:e,offsetX:0}),w()),a.translateX<-e&&(g({translateX:-e,offsetX:0}),w()),g({translateY:a.translateY+a.offsetY}),a.translateY>t&&(g({translateY:u+t,offsetY:0}),w()),a.translateY<-t&&(g({translateY:-(u+t),offsetY:0}),w())))},y=function(){var e=[],t=a.scale,n=(a.translateX+a.offsetX)/a.scale,r=(a.translateY+a.offsetY)/a.scale;return a.translateX2=m(n,2),a.translateY2=m(r,2),1!==t&&e.push("scale("+t+","+t+")"),0!==n&&e.push("translateX("+a.translateX2+"px)"),0!==r&&e.push("translateY("+a.translateY2+"px)"),e.length?e.join(" "):"none"},w=function(){var e=y();r.imageInstance.transform=e},x=function(){g({scale:1,translateX:0,translateY:0,offsetX:0,offsetY:0})},b=function(e,t){if(a.finger>=2){var n=e.touches[0].pageX,r=e.touches[0].pageY,i=e.touches[1].pageX,o=e.touches[1].pageY,s=n-i,l=r-o,c=Math.sqrt(Math.pow(s,2)+Math.pow(l,2));return t?g({initialScaleLength:c}):c/a.initialScaleLength}return 1},S=function(){r.offsetX=a.translateX2,r.offsetY=a.translateY2,r.scale=a.scale},I=function(e){var t=e.touches;p(e),h(t),b(e,!0),a.finger<2&&g({pageX:t[0].pageX,pageY:t[0].pageY}),g({initialScale:a.scale})},C=function(e){p(e);var t=e.touches[0],n=a.pageX,r=a.pageY,i=t.pageX,o=t.pageY,s=a.initialScale*b(e),l=m(s,2);a.finger<2&&g({offsetX:i-n,offsetY:o-r}),g({scale:l>10?10:l}),w()},P=function(e){p(e),g({translateX:a.translateX+a.offsetX,translateY:a.translateY+a.offsetY,offsetX:0,offsetY:0}),v(),S()};t.a=d},function(e,t,a){var r,i;(function(){function a(e){return!!e.exifdata}function o(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),a=n.length,r=new ArrayBuffer(a),i=new Uint8Array(r),o=0;o<a;o++)i[o]=n.charCodeAt(o);return r}function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}function l(e,t){function n(n){var a=c(n);e.exifdata=a||{};var r=u(n);if(e.iptcdata=r||{},S.isXmpEnabled){var i=y(n);e.xmpdata=i||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var a=o(e.src);n(a)}else if(/^blob\:/i.test(e.src)){var r=new FileReader;r.onload=function(e){n(e.target.result)},s(e.src,function(e){r.readAsArrayBuffer(e)})}else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(i.response),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var r=new FileReader;r.onload=function(e){b&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},r.readAsArrayBuffer(e)}}function c(e){var t=new DataView(e);if(b&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return b&&console.log("Not a valid JPEG"),!1;for(var n,a=2,r=e.byteLength;a<r;){if(255!=t.getUint8(a))return b&&console.log("Not a valid marker at offset "+a+", found: "+t.getUint8(a)),!1;if(n=t.getUint8(a+1),b&&console.log(n),225==n)return b&&console.log("Found 0xFFE1 marker"),v(t,a+4,t.getUint16(a+2));a+=2+t.getUint16(a+2)}}function u(e){var t=new DataView(e);if(b&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return b&&console.log("Not a valid JPEG"),!1;for(var n=2,a=e.byteLength;n<a;){if(function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)}(t,n)){var r=t.getUint8(n+7);r%2!=0&&(r+=1),0===r&&(r=4);return f(e,n+8+r,t.getUint16(n+6+r))}n++}}function f(e,t,n){for(var a,r,i,o,s=new DataView(e),l={},c=t;c<t+n;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(o=s.getUint8(c+2))in U&&(i=s.getInt16(c+3),i+5,r=U[o],a=m(s,c+5,i),l.hasOwnProperty(r)?l[r]instanceof Array?l[r].push(a):l[r]=[l[r],a]:l[r]=a),c++;return l}function d(e,t,n,a,r){var i,o,s,l=e.getUint16(n,!r),c={};for(s=0;s<l;s++)i=n+12*s+2,o=a[e.getUint16(i,!r)],!o&&b&&console.log("Unknown tag: "+e.getUint16(i,!r)),c[o]=p(e,i,t,n,r);return c}function p(e,t,n,a,r){var i,o,s,l,c,u,f=e.getUint16(t+2,!r),d=e.getUint32(t+4,!r),p=e.getUint32(t+8,!r)+n;switch(f){case 1:case 7:if(1==d)return e.getUint8(t+8,!r);for(i=d>4?p:t+8,o=[],l=0;l<d;l++)o[l]=e.getUint8(i+l);return o;case 2:return i=d>4?p:t+8,m(e,i,d-1);case 3:if(1==d)return e.getUint16(t+8,!r);for(i=d>2?p:t+8,o=[],l=0;l<d;l++)o[l]=e.getUint16(i+2*l,!r);return o;case 4:if(1==d)return e.getUint32(t+8,!r);for(o=[],l=0;l<d;l++)o[l]=e.getUint32(p+4*l,!r);return o;case 5:if(1==d)return c=e.getUint32(p,!r),u=e.getUint32(p+4,!r),s=new Number(c/u),s.numerator=c,s.denominator=u,s;for(o=[],l=0;l<d;l++)c=e.getUint32(p+8*l,!r),u=e.getUint32(p+4+8*l,!r),o[l]=new Number(c/u),o[l].numerator=c,o[l].denominator=u;return o;case 9:if(1==d)return e.getInt32(t+8,!r);for(o=[],l=0;l<d;l++)o[l]=e.getInt32(p+4*l,!r);return o;case 10:if(1==d)return e.getInt32(p,!r)/e.getInt32(p+4,!r);for(o=[],l=0;l<d;l++)o[l]=e.getInt32(p+8*l,!r)/e.getInt32(p+4+8*l,!r);return o}}function g(e,t,n){var a=e.getUint16(t,!n);return e.getUint32(t+2+12*a,!n)}function h(e,t,n,a){var r=g(e,t+n,a);if(!r)return{};if(r>e.byteLength)return{};var i=d(e,t,t+r,F,a);if(i.Compression)switch(i.Compression){case 6:if(i.JpegIFOffset&&i.JpegIFByteCount){var o=t+i.JpegIFOffset,s=i.JpegIFByteCount;i.blob=new Blob([new Uint8Array(e.buffer,o,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",i.Compression)}else 2==i.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return i}function m(e,t,a){var r="";for(n=t;n<t+a;n++)r+=String.fromCharCode(e.getUint8(n));return r}function v(e,t){if("Exif"!=m(e,t,4))return b&&console.log("Not valid EXIF data! "+m(e,t,4)),!1;var n,a,r,i,o,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return b&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return b&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(s+4,!n);if(l<8)return b&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if(a=d(e,s,s+l,C,n),a.ExifIFDPointer){i=d(e,s,s+a.ExifIFDPointer,I,n);for(r in i){switch(r){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":i[r]=R[r][i[r]];break;case"ExifVersion":case"FlashpixVersion":i[r]=String.fromCharCode(i[r][0],i[r][1],i[r][2],i[r][3]);break;case"ComponentsConfiguration":i[r]=R.Components[i[r][0]]+R.Components[i[r][1]]+R.Components[i[r][2]]+R.Components[i[r][3]]}a[r]=i[r]}}if(a.GPSInfoIFDPointer){o=d(e,s,s+a.GPSInfoIFDPointer,P,n);for(r in o){switch(r){case"GPSVersionID":o[r]=o[r][0]+"."+o[r][1]+"."+o[r][2]+"."+o[r][3]}a[r]=o[r]}}return a.thumbnail=h(e,s,l,n),a}function y(e){if("DOMParser"in self){var t=new DataView(e);if(b&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return b&&console.log("Not a valid JPEG"),!1;for(var n=2,a=e.byteLength,r=new DOMParser;n<a-4;){if("http"==m(t,n,4)){var i=n-1,o=t.getUint16(n-2)-1,s=m(t,i,o),l=s.indexOf("xmpmeta>")+8;s=s.substring(s.indexOf("<x:xmpmeta"),l);var c=s.indexOf("x:xmpmeta")+10;s=s.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(c);return x(r.parseFromString(s,"text/xml"))}n++}}}function w(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var a=e.attributes.item(n);t["@attributes"][a.nodeName]=a.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes.item(r),o=i.nodeName;if(null==t[o])t[o]=w(i);else{if(null==t[o].push){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(w(i))}}return t}function x(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var a=e.children.item(n),r=a.attributes;for(var i in r){var o=r[i],s=o.nodeName,l=o.nodeValue;void 0!==s&&(t[s]=l)}var c=a.nodeName;if(void 0===t[c])t[c]=w(a);else{if(void 0===t[c].push){var u=t[c];t[c]=[],t[c].push(u)}t[c].push(w(a))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}var b=!1,S=function(e){return e instanceof S?e:this instanceof S?void(this.EXIFwrapped=e):new S(e)};void 0!==e&&e.exports&&(t=e.exports=S),t.EXIF=S;var I=S.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},C=S.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},P=S.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},F=S.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},R=S.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},U={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};S.enableXmp=function(){S.isXmpEnabled=!0},S.disableXmp=function(){S.isXmpEnabled=!1},S.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(a(e)?t&&t.call(e):l(e,t),!0)},S.getTag=function(e,t){if(a(e))return e.exifdata[t]},S.getIptcTag=function(e,t){if(a(e))return e.iptcdata[t]},S.getAllTags=function(e){if(!a(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},S.getAllIptcTags=function(e){if(!a(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},S.pretty=function(e){if(!a(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},S.readFromBinaryFile=function(e){return c(e)},r=[],void 0!==(i=function(){return S}.apply(t,r))&&(e.exports=i)}).call(this)},function(e,t,n){"use strict";function a(e){n(16)}var r=n(5),i=n(18),o=n(2),s=a,l=o(r.a,i.a,!1,s,null,null);t.a=l.exports},function(e,t,n){var a=n(17);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(1)("de141e34",a,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".crop-view{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center}.crop-view-container{border-top:1px solid #fff;border-left:1px solid #fff;display:flex;flex-direction:column}.crop-view-row{display:flex;flex-grow:1;flex-shrink:1}.crop-view-item{flex-grow:1;flex-shrink:1;border-right:1px solid #fff;border-bottom:1px solid #fff}",""])},function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"crop-view",style:{zIndex:e.zIndex}},[n("div",{staticClass:"crop-view-container",style:e.containerStyle},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"crop-view-row"},[n("div",{staticClass:"crop-view-item"}),e._v(" "),n("div",{staticClass:"crop-view-item"}),e._v(" "),n("div",{staticClass:"crop-view-item"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"crop-view-row"},[n("div",{staticClass:"crop-view-item"}),e._v(" "),n("div",{staticClass:"crop-view-item"}),e._v(" "),n("div",{staticClass:"crop-view-item"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"crop-view-row"},[n("div",{staticClass:"crop-view-item"}),e._v(" "),n("div",{staticClass:"crop-view-item"}),e._v(" "),n("div",{staticClass:"crop-view-item"})])}],i={render:a,staticRenderFns:r};t.a=i},function(e,t,n){"use strict";function a(e){n(20)}var r=n(6),i=n(22),o=n(2),s=a,l=o(r.a,i.a,!1,s,null,null);t.a=l.exports},function(e,t,n){var a=n(21);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(1)("faf23710",a,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".crop-layer{position:absolute;top:0;left:0;right:0;bottom:0}",""])},function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"crop-layer",style:e.layerStyle})},r=[],i={render:a,staticRenderFns:r};t.a=i},function(e,t,n){"use strict";function a(e){n(24)}var r=n(7),i=n(26),o=n(2),s=a,l=o(r.a,i.a,!1,s,null,null);t.a=l.exports},function(e,t,n){var a=n(25);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(1)("a292858e",a,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".crop-image{position:absolute;width:100%;transition:all .2s ease-out}",""])},function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"crop-image",style:{width:e.imageWidth,height:e.imageHeight,zIndex:e.zIndex,transform:e.transform}},[n("img",{ref:"canvasImage",attrs:{src:"",alt:"",width:"100%",height:"100%"}})])},r=[],i={render:a,staticRenderFns:r};t.a=i},function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"crop-container"},[n("crop-view",{ref:"corpView",attrs:{zIndex:e.layerZIndex+2}}),e._v(" "),n("crop-image",{attrs:{zIndex:e.layerZIndex+1},on:{canvasImage:e.getImageData}}),e._v(" "),n("crop-layer",{attrs:{opacity:e.layerOpacity,color:e.layerColor,zIndex:e.layerZIndex}})],1)},r=[],i={render:a,staticRenderFns:r};t.a=i}])});
//# sourceMappingURL=crop-image-mobile.js.map